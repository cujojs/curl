/*
 MIT License (c) copyright B Cavalier & J Hann */
var p=!0;
(function(t){function E(){}function u(a,b){return 0==S.call(a).indexOf("[object "+b)}function n(a){return a&&"/"==a.charAt(a.length-1)?a.substr(0,a.length-1):a}function F(a,b){var c,f,d;f=1;a=a.replace(T,function(a,b,c){c&&f++;d=p;return""});return d?(c=b.split("/"),c.splice(c.length-f,f),c.concat(a||[]).join("/")):a}function G(a){var b=a.indexOf("!");return{J:a.substr(b+1),g:0<=b&&a.substr(0,b)}}function A(){}function H(a){A.prototype=a;a=new A;A.prototype=I;return a}function s(){function a(a,b,
c){f.push([a,b,c])}function b(a,b){for(var c,d=0;c=f[d++];)(c=c[a])&&c(b)}var c,f,d;c=this;f=[];d=function(c,h){a=c?function(a){a&&a(h)}:function(a,b){b&&b(h)};d=E;b(c?0:1,h);b=E;f=j};this.W=function(b,c,f){a(b,c,f)};this.h=function(a){c.$=a;d(p,a)};this.c=function(a){c.Z=a;d(!1,a)};this.o=function(a){b(2,a)}}function r(a,b,c,f){a instanceof s?a.W(b,c,f):b(a)}function v(a,b,c){return function(){var f;0<=--a&&b&&(f=b.apply(j,arguments));0==a&&c&&c(f);return f}}function x(){function a(b,f,d){var e;
e=g.e(i,j,[].concat(b));this.then=b=function(a,b){r(e,function(b){a&&a.apply(j,b)},function(a){if(b)b(a);else throw a;});return this};this.next=function(b,c){return new a(b,c,e)};f&&b(f);r(d,function(){g.i(e)})}var b=[].slice.call(arguments);u(b[0],"Object")&&(i=g.B(b.shift()),g.s(i));return new a(b[0],b[1])}function J(a){var b=a.id;if(b==j)if(w!==j)w={z:"Multiple anonymous defines in url"};else if(!(b=g.T()))w=a;if(b!=j){var c=k[b];b in k||(c=g.j(b,i).d,c=k[b]=g.u(c,b));c instanceof s&&(c.Y=!1,g.v(c,
a))}}var i=t.curl,y=t.document,K=y&&(y.head||y.getElementsByTagName("head")[0]),L={},M={},N={},z={},I={},S=I.toString,j,O={loaded:1,interactive:N,complete:1},k={},B=!1,w,U=/\?/,P=/^\/|^[^:]+:\/\//,T=/(?:^|\/)(\.)(\.?)\/?/g,V=/\/\*[\s\S]*?\*\/|(?:[^\\])\/\/.*?[\n\r]/g,W=/require\s*\(\s*["']([^"']+)["']\s*\)|(?:[^\\]?)(["'])/g,C,g;g={e:function(a,b,c,f){function d(a){return F(a,h.l)}function e(b,c){var f,e,m,Q;f=c&&function(a){c.apply(j,a)};if(u(b,"String")){e=d(b);m=k[e];Q=m instanceof s&&m.a;if(!(e in
k))throw Error("Module not resolved: "+e);if(f)throw Error("require(id, callback) not allowed");return Q||m}r(g.i(g.e(a,h.id,b)),f)}var h;h=new s;h.l=h.id=b||"";h.F=f;h.w=c;h.p=e;e.toUrl=function(b){return g.j(d(b),a).url};h.X=d;return h},u:function(a,b,c,f){var d,e,h,o;d=g.e(a,b,j,c);d.l=f==j?b:f;e=d.h;h=v(1,function(a){d.m=a;try{o=g.M(d)}catch(b){d.c(b)}});d.h=function(a){h(a);k[d.id]=o;e(o)};d.A=function(a){d.a&&(h(a),d.o(M))};return d},L:function(a,b,c,f){a=g.e(a,b,j,c);a.l=f;return a},S:function(a){return a.p},
C:function(a){return a.a||(a.a={})},R:function(a){var b=a.n;b||(b=a.n={id:a.id,uri:g.D(a),exports:g.C(a)},b.a=b.exports);return b},D:function(a){return a.url||(a.url=g.t(a.p.toUrl(a.id)))},B:function(a){function b(b,c){var d,e,l,m,j;for(j in b){l=b[j];m=a;e=G(n(l.id||l.name||j));d=e.J;if(e=e.g)m=f[e],m||(m=f[e]=H(a),m.f=H(a.f),m.b=[]),delete b[j];if(c){e=l;var D=void 0,i=void 0,D=e.path=n(e.path||e.location||""),i=e.main||"main";e.d=e.config;e.G="."==i.charAt(0)?n(F(i,D)):n(D)+"/"+i}else e={path:n(l)};
e.K=d.split("/").length;d?(m.f[d]=e,m.b.push(d)):m.r=g.I(l,a)}}function c(a){var b=a.f;a.V=RegExp("^("+a.b.sort(function(a,c){return b[a].K<b[c].K}).join("|").replace(/\//g,"\\/")+")(?=\\/|$)");delete a.b}var f;a.r=a.baseUrl||"";a.H="pluginPath"in a?a.pluginPath:"curl/plugin";a.f={};f=a.plugins=a.plugins||{};a.b=[];b(a.paths,!1);b(a.packages,p);for(var d in f){var e=f[d].b;e&&(f[d].b=e.concat(a.b),c(f[d]))}c(a);return a},s:function(a){var b;(b=a.preloads)&&0<b.length&&r(B,function(){B=g.i(g.e(a,j,
b,p))})},j:function(a,b,c){var f,d,e;f=b.f;c&&b.H&&0>a.indexOf("/")&&!(a in f)&&(a=n(b.H)+"/"+a);c=P.test(a)?a:a.replace(b.V,function(b){d=f[b]||{};e=d.d;return d.G&&b==a?d.G:d.path||""});return{path:c,d:e||i,url:g.I(c,b)}},I:function(a,b){var c=b.r;return c&&!P.test(a)?n(c)+"/"+a:a},t:function(a){return a+(U.test(a)?"":".js")},U:function(a,b,c){var f=y.createElement("script");f.onload=f.onreadystatechange=function(c){c=c||t.event;if("load"==c.type||O[f.readyState])delete z[a.id],f.onload=f.onreadystatechange=
f.onerror="",b()};f.onerror=function(){c(Error("Syntax or http error: "+a.url))};f.charset="utf-8";f.async=p;f.src=a.url;z[a.id]=f;K.insertBefore(f,K.firstChild)},N:function(a){var b=[],c;("string"==typeof a?a:a.toSource?a.toSource():a.toString()).replace(V,"").replace(W,function(a,d,e){e?c=c==e?j:c:c||b.push(d);return a});return b},Q:function(a){var b,c,f,d,e,h;e=a.length;f=a[e-1];d=u(f,"Function")?f.length:-1;2==e?u(a[0],"Array")?c=a[0]:b=a[0]:3==e&&(b=a[0],c=a[1]);!c&&0<d&&(h=p,c=["require","exports",
"module"].slice(0,d).concat(g.N(f)));return{id:b,m:c||[],q:0<=d?f:function(){return f},k:h}},M:function(a){var b;b=a.q.apply(a.k?a.a:j,a.m);b===j&&a.a&&(b=a.n?a.a=a.n.a:a.a);return b},v:function(a,b){r(a.F||B,function(){a.q=b.q;a.k=b.k;a.w=b.m;g.i(a)})},i:function(a){function b(a,b,c){h[b]=a;c&&q(a,b)}function c(b,c){var f,d,e,h;f=v(1,function(a){d(a);l(a,c)});d=v(1,function(a){q(a,c)});e=g.O(b,a);(h=e instanceof s&&e.a)&&d(h);r(e,f,a.c,a.a&&function(a){e.a&&(a==L?d(e.a):a==M&&f(e.a))})}function f(){a.h(h)}
var d,e,h,i,k,q,l;h=[];e=a.w;i=e.length;0==e.length&&f();q=v(i,b,function(){a.A&&a.A(h)});l=v(i,b,f);for(d=0;d<i;d++)k=e[d],k in C?(l(C[k](a),d,p),a.a&&a.o(L)):k?c(k,d):l(j,d,p);return a},P:function(a){g.D(a);g.U(a,function(){var b=w;w=j;!1!==a.Y&&(!b||b.z?a.c(Error((b&&b.z||"define() missing or duplicated: url").replace("url",a.url))):g.v(a,b))},a.c);return a},O:function(a,b){var c,f,d,e,h,o,n,q,l,m;c=b.X;f=b.F;d=G(a);o=d.J;e=c(d.g||o);n=g.j(e,i,!!d.g);if(d.g)h=e;else if(h=n.d.moduleLoader)o=e,e=
h,n=g.j(h,i);q=k[e];e in k||(q=k[e]=g.u(n.d,e,f,d.g?n.path:j),q.url=g.t(n.url),g.P(q));e==h&&(l=new s,m=i.plugins[h]||i,r(q,function(a){var b,d,e;e=a.dynamic;o="normalize"in a?a.normalize(o,c,m)||"":c(o);d=h+"!"+o;b=k[d];if(!(d in k)){b=g.L(m,d,f,o);e||(k[d]=b);var i=function(a){b.h(a);e||(k[d]=a)};i.resolve=i;i.reject=b.c;a.load(o,b.p,i,m)}l!=b&&r(b,l.h,l.c,l.o)},l.c));return l||q},T:function(){var a;if(!u(t.opera,"Opera"))for(var b in z)if(O[z[b].readyState]==N){a=b;break}return a}};C={require:g.S,
exports:g.C,module:g.R};if(!u(i,"Function")){i=g.B(i||{});g.s(i);var R;(i.apiContext||t)[i.apiName||"curl"]=x;k.curl=x;R=t.define=function(){var a=g.Q(arguments);J(a)};x.version="0.6.2";R.amd={plugins:p,jQuery:p,curl:"0.6.2"};k["curl/_privileged"]={core:g,cache:k,cfg:i,_define:J,_curl:x,Promise:s}}})(this);
